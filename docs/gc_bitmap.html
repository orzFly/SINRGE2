<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="cn">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Bitmap</title>
  <link href="./style.css" type="text/css" rel="stylesheet">
</head>
<body>
<h1>Bitmap</h1>
<p>在画面上显示 Bitmap，必须使用（<a href="gc_sprite.html">Sprite</a>）之类的对象。</p>
<h2>超类</h2>
<ul>
  <li>Object</li>
</ul>
<h2>类方法</h2>
<dl>
  <dt><a name="new">Bitmap.new(<var>filename</var>)</a></dt>
  <dd>
    <p>载入由 <var>filename</var> 所指定的图像文件，并生成 Bitmap 实例。扩展名可以省略。</p>
  </dd>
  <dt>Bitmap.new(<var>width</var>, <var>height</var>)</dt>
  <dd>
    <p>生成指定大小的 Bitmap 实例。</p>
  </dd>
  <dt>Bitmap.new(<var>buffer</var>, <var>size</var>)</dt>
  <dd>
    <p>从内存 buffer 中载入图像文件并生成 Bitmap 实例。，size 为 buffer 的内存大小。</p>
  </dd>
</dl>
<h2>方法</h2>
<dl>

  <dt><a name="dispose">dispose</a></dt>
  <dd>
    <p>释放 Bitmap 。若是已经释放则什么都不做。</p>
  </dd>

  <dt>disposed?</dt>
  <dd>
    <p>Bitmap 已释放时返回 true。</p>
  </dd>

  <dt>width</dt>
  <dd>
    <p>获取 Bitmap 的宽度。</p>
  </dd>

  <dt>height</dt>
  <dd>
    <p>获取 Bitmap 的高度。</p>
  </dd>

  <dt>rect</dt>
  <dd>
    <p>获取 Bitmap 的矩形范围（<a href="gc_rect.html">Rect</a>）。</p>
  </dd>

  <dt>blt(<var>x</var>, <var>y</var>[, <var>src_bitmap</var>], <var>src_rect</var>[, <var>opacity</var>])</dt>
  <dd>
    <p>将源 Bitmap 指定区域的像素绘制到 Bitmap 的指定区域。<var>x</var>, <var>y</var> 为指定区域的左上角坐标。</p>
    <p><var>src_bitmap</var> 为源 Bitmap 。<var>src_rect</var>（<a href="gc_rect.html">Rect</a>）为源 Bitmap 指定区域的矩形范围。</p>
    <p><var>opacity</var> 为透明度，范围 0～255。</p>
    <p>不指定 <var>src_bitmap</var> 的时候，会以自身作为源 Bitmap。</p>
  </dd>

  <dt>stretch_blt(<var>dest_rect</var>, <var>src_bitmap</var>,
    <var>src_rect</var>[, <var>opacity</var>])</dt>
  <dd>
    <p>将源 Bitmap 指定区域的像素拉伸绘制到 Bitmap 的指定区域。<var>dest_rect</var> 为指定区域的矩形范围（<a href="gc_rect.html">Rect</a>）。</p>
    <p><var>src_bitmap</var> 为源 Bitmap 。<var>src_rect</var>（<a href="gc_rect.html">Rect</a>）为源 Bitmap 指定区域的矩形范围。</p>
    <p><var>opacity</var> 为透明度，范围 0～255。</p>
  </dd>

  <dt>fill_rect(<var>x</var>, <var>y</var>,
    <var>width</var>, <var>height</var>, <var>color</var>)</dt>
  <dt>fill_rect(<var>rect</var>, <var>color</var>)</dt>
  <dd>
    <p>以指定颜色 <var>color</var>（<a href="gc_color.html">Color</a> 或 32 位颜色（Bignum））填充 Bitmap  (<var>x</var>, <var>y</var>, <var>width</var>, <var>height</var>) 或（<a href="gc_rect.html">Rect</a>）指定的区域。</p>
  </dd>

  <dt>gradient_fill_rect(<var>x</var>, <var>y</var>,<var>width</var>, <var>height</var>, <var>color1</var>,<var>color2</var>[, <var>vertical</var>])</dt>
  <dt>gradient_fill_rect(<var>rect</var>,<var>color1</var>, <var>color2</var>[, <var>vertical</var>])</dt>
  <dd>
    <p>以指定颜色 <var>color1</var>（<a href="gc_color.html">Color</a> 或 32 位颜色（Bignum））, <var>color2</var>（<a href="gc_color.html">Color</a> 或 32 位颜色（Bignum））渐变填充 Bitmap  (<var>x</var>, <var>y</var>, <var>width</var>, <var>height</var>) 或（<a href="gc_rect.html">Rect</a>）指定的区域。</p>
    </p>
    <p><var>vertical</var> 为 true 时纵向绘制，为 false 时横向绘制，预设为 false 。</p>
  </dd>

  <dt>clear</dt>
  <dd>
    <p>以透明色填充整张 Bitmap 。</p>
  </dd>

  <dt>clear_rect(<var>x</var>, <var>y</var>,<var>width</var>, <var>height</var>)</dt>
  <dt>clear_rect(<var>rect</var>)</dt>
  <dd>
    <p>以透明色填充 Bitmap 的指定区域。</p>
  </dd>

  <dt>get_pixel(<var>x</var>, <var>y</var>)</dt>
  <dd>
    <p>获取指定像素点 (<var>x</var>, <var>y</var>) 的颜色（<a href="gc_color.html">Color</a>）。</p>
  </dd>

  <dt>set_pixel(<var>x</var>, <var>y</var>, <var>color</var>)</dt>
  <dd>
    <p>设定指定像素点 (<var>x</var>, <var>y</var>) 的颜色（<a href="gc_color.html">Color</a> 或 32 位颜色（Bignum））。</p>
  </dd>

  <dt>hue_change(<var>hue</var>)</dt>
  <dd>
    <p>在 360 度内变换 Bitmap 的色相。</p>
    <p>此处理需要花费时间，另外颜色转换会产生误差，反复转换可能会导致颜色损失。</p>
  </dd>

  <dt>blur</dt>
  <dd>
    <p>对 Bitmap 执行模糊效果。此处理需要花费时间。</p>
  </dd>

  <dt>radial_blur(<var>angle</var>, <var>division</var>)</dt>
  <dd>
    <p>暂未实现</p>
  </dd>

  <dt>draw_text(<var>font</var>, <var>x</var>, <var>y</var>, <var>width</var>, <var>height</var>, <var>str</var>[, <var>halign</var>[, <var>valign</var>]])</dt>
  <dt>draw_text(<var>font</var>, <var>rect</var>, <var>str</var>[, <var>halign</var>[, <var>valign</var>]])</dt>
  <dd>
    <p>在 Bitmap 指定区域 (<var>x</var>, <var>y</var>, <var>width</var>, <var>height</var>) 或 <var>rect</var>（<a href="gc_rect.html">Rect</a>）中绘制字符串 <var>str</var> 。</p>
    <p>若 <var>str</var> 不是字符串对象，则会调用 to_s 方法转换成字符串。</p>
    <p>font 为绘制字符串时所使用的字体。</p>
  </dd>
  <dd>
    <p>文字的横向对齐方式预设为 0 靠左对齐，可以设置 <var>halign</var> 为 1 居中对齐，或设置为 2 靠右对齐。</p>
    <p>文字的纵向对齐方式预设为 1 居中对齐，可以设置 <var>valign</var> 为 0 靠上对齐，或设置为 2 靠下对齐。</p>
    <p>此处理需要花费时间，因此不建议每帧重复绘制文字。</p>
  </dd>

  <dt>text_size(<var>font</var>, <var>str</var>)</dt>
  <dd>
    <p>获取使用 draw_text 方法描绘 <var>str</var> 字符串时所需要的矩形范围（<a href="gc_rect.html">Rect</a>）。不包含斜体倾斜的文字部分。</p>
    <p>font 为计算范围时所使用的字体。</p>
  </dd>
  <dd>
    <p>若 <var>str</var> 不是字符串对象，则会调用 to_s 方法转换成字符串。</p>
  </dd>

  <dt>brightness_change(<var>brightness</var>)</dt>
  <dd>
    <p>改变 Bitmap 的亮度。<var>brightness</var> 为亮度，范围 -255～255</p>
  </dd>

  <dt>tone_change(<var>tone</var>)</dt>
  <dt>tone_change(<var>red</var>, <var>green</var>, <var>blue</var>, <var>gray</var>)</dt>
  <dd>
    <p>将 Bitmap 设置为指定的 <var>tone</var>（<a href="gc_tone.html">Tone</a> 或 32 位颜色（Bignum））或 <var>red</var>, <var>green</var>, <var>blue</var>, <var>gray</var> 色调。</p>
  </dd>

  <dt>flip_h</dt>
  <dd>
    <p>水平翻转 Bitmap 。</p>
  </dd>

  <dt>flip_v</dt>
  <dd>
    <p>垂直翻转 Bitmap 。</p>
  </dd>
  
  <dt>filename</dt>
  <dd>
    <p>获取 Bitmap 的文件名。</p>
    <p>如果是使用 Bitmap.new(<var>width</var>, <var>height</var>) 或 Bitmap.new(<var>buffer</var>, <var>size</var>) 创建的 Bitmap ，返回 nil。</p>
  </dd>
  
  <dt>save_to_file(<var>filename</var>)</dt>
  <dd>
    <p>将 Bitmap 保存为指定文件名 <var>filename</var> 的 bmp 格式位图文件。</p>
  </dd>

</dl>
<h6></h6>
</body>
</html>
